<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Course Registration | VVU</title>
  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
</head>
<body class="inner-page">

<!-- NAVBAR -->
<header class="navbar scrolled" id="navbar">
  <div class="nav-container">
    <a href="index.html" class="nav-logo">
      <div class="logo-icon">VVU</div>
      <div class="logo-text">
        <span class="logo-name">Valley View University</span>
        <span class="logo-tag">Excellence Â· Integrity Â· Service</span>
      </div>
    </a>
    <nav class="nav-links" id="navLinks">
      <a href="index.html"        class="nav-link">Home</a>
      <a href="registration.html" class="nav-link active">Register</a>
      <a href="students.html"     class="nav-link">Students</a>
      <a href="events.html"       class="nav-link">Events</a>
      <a href="index.html#contact" class="nav-link">Contact</a>
    </nav>
    <button class="hamburger" id="hamburger" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<!-- PAGE HERO -->
<section class="page-hero">
  <div class="page-hero-bg"></div>
  <div class="container">
    <div class="breadcrumb">
      <a href="index.html">Home</a><span>/</span><span>Course Registration</span>
    </div>
    <h1 class="page-title">Course <em>Registration</em></h1>
    <p class="page-subtitle">Register for the 2025/2026 academic year. All fields are required. Student ID format: <strong>VVU/XXXX/XX</strong></p>
  </div>
</section>

<!-- REGISTRATION SECTION -->
<section class="reg-section">
  <div class="container reg-layout">

    <!-- ========== FORM (Task 2) ========== -->
    <div class="reg-form-wrap">
      <form id="regForm" novalidate>
        <h2 class="form-heading">Student Registration Form</h2>

        <!-- Student Name -->
        <div class="form-group">
          <label for="studentName">Student Name *</label>
          <input type="text" id="studentName" name="studentName" placeholder="e.g. Kwame Mensah" autocomplete="name"/>
          <span class="err" id="studentNameErr"></span>
        </div>

        <!-- Student ID -->
        <div class="form-group">
          <label for="studentId">Student ID * <small>(Format: VVU/XXXX/XX)</small></label>
          <input type="text" id="studentId" name="studentId" placeholder="e.g. VVU/2025/01" autocomplete="off"/>
          <span class="err" id="studentIdErr"></span>
        </div>

        <!-- Level -->
        <div class="form-group">
          <label for="level">Level *</label>
          <select id="level" name="level">
            <option value="">â€” Select Level â€”</option>
            <option value="100">Level 100</option>
            <option value="200">Level 200</option>
            <option value="300">Level 300</option>
            <option value="400">Level 400</option>
          </select>
          <span class="err" id="levelErr"></span>
        </div>

        <!-- Department -->
        <div class="form-group">
          <label for="department">Department *</label>
          <select id="department" name="department">
            <option value="">â€” Select Department â€”</option>
            <option value="Business Administration">Business Administration</option>
            <option value="Accounting & Finance">Accounting &amp; Finance</option>
            <option value="Computer Science">Computer Science</option>
            <option value="Engineering">Engineering</option>
            <option value="Health Sciences">Health Sciences</option>
            <option value="Arts & Social Sciences">Arts &amp; Social Sciences</option>
            <option value="Education">Education</option>
            <option value="Theology & Ministry">Theology &amp; Ministry</option>
          </select>
          <span class="err" id="departmentErr"></span>
        </div>

        <!-- Courses â€” checkbox selection (Task 2) -->
        <div class="form-group">
          <label>Courses * <small>(Select at least one)</small></label>
          <div class="courses-box">
            <div class="course-check"><label><input type="checkbox" name="courses" value="GEN101 â€“ Communication Skills (2cr)"/> GEN101 â€“ Communication Skills <span class="cr-badge">2 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="GEN102 â€“ Critical Thinking (2cr)"/> GEN102 â€“ Critical Thinking <span class="cr-badge">2 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="GEN201 â€“ Research Methods (3cr)"/> GEN201 â€“ Research Methods <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="MAT101 â€“ Mathematics for Business (3cr)"/> MAT101 â€“ Mathematics for Business <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="MAT201 â€“ Statistics & Probability (3cr)"/> MAT201 â€“ Statistics &amp; Probability <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="BUS101 â€“ Introduction to Business (3cr)"/> BUS101 â€“ Introduction to Business <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="BUS201 â€“ Business Communication (3cr)"/> BUS201 â€“ Business Communication <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="BUS301 â€“ Strategic Management (3cr)"/> BUS301 â€“ Strategic Management <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="BUS401 â€“ Entrepreneurship & Innovation (3cr)"/> BUS401 â€“ Entrepreneurship &amp; Innovation <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="ACC101 â€“ Principles of Accounting (3cr)"/> ACC101 â€“ Principles of Accounting <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="ACC201 â€“ Financial Accounting II (3cr)"/> ACC201 â€“ Financial Accounting II <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="ACC301 â€“ Management Accounting (3cr)"/> ACC301 â€“ Management Accounting <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="CS101 â€“ Introduction to Computing (3cr)"/> CS101 â€“ Introduction to Computing <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="CS201 â€“ Data Structures & Algorithms (3cr)"/> CS201 â€“ Data Structures &amp; Algorithms <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="CS301 â€“ Database Management (3cr)"/> CS301 â€“ Database Management <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="CS401 â€“ Software Engineering (3cr)"/> CS401 â€“ Software Engineering <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="HLT101 â€“ Human Anatomy & Physiology (3cr)"/> HLT101 â€“ Human Anatomy &amp; Physiology <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="HLT201 â€“ Public Health (3cr)"/> HLT201 â€“ Public Health <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="EDU101 â€“ Principles of Education (3cr)"/> EDU101 â€“ Principles of Education <span class="cr-badge">3 cr</span></label></div>
            <div class="course-check"><label><input type="checkbox" name="courses" value="THE101 â€“ Old Testament Survey (3cr)"/> THE101 â€“ Old Testament Survey <span class="cr-badge">3 cr</span></label></div>
          </div>
          <span class="err" id="coursesErr"></span>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-full" id="submitBtn">
          Submit Registration
        </button>
      </form>

      <!-- ===== RESULTS PANEL (Task 2: Display selected courses after submission) ===== -->
      <div class="result-panel" id="resultPanel" style="display:none;">
        <div class="result-icon">âœ…</div>
        <h3>Registration Submitted Successfully!</h3>
        <p>Your registration has been saved. Below is a summary of your selected courses.</p>

        <div class="result-table-wrap">
          <table class="result-table">
            <tbody>
              <tr><th>Student Name</th><td id="res-name"></td></tr>
              <tr><th>Student ID</th><td id="res-id"></td></tr>
              <tr><th>Level</th><td id="res-level"></td></tr>
              <tr><th>Department</th><td id="res-dept"></td></tr>
              <tr><th>Ref. No.</th><td id="res-ref"></td></tr>
              <tr><th>Date</th><td id="res-date"></td></tr>
            </tbody>
          </table>
        </div>

        <h4 class="selected-courses-heading">Selected Courses</h4>
        <ul class="selected-courses-list" id="selectedCoursesList"></ul>

        <div class="result-actions">
          <button class="btn btn-primary" onclick="window.print()">ğŸ–¨ Print / Save</button>
          <button class="btn btn-outline" id="newRegBtn">Register Another Student</button>
          <a href="students.html" class="btn btn-outline">View All Students â†’</a>
        </div>
      </div>
    </div>

    <!-- SIDEBAR -->
    <aside class="reg-sidebar">
      <div class="sidebar-card">
        <h4>ğŸ“‹ Instructions</h4>
        <ol>
          <li>Enter your full name as it appears on official records.</li>
          <li>Student ID must follow format: <strong>VVU/XXXX/XX</strong> (e.g. VVU/2025/01).</li>
          <li>Select your current level (100â€“400).</li>
          <li>Choose your department.</li>
          <li>Tick at least one course.</li>
          <li>Click <strong>Submit Registration</strong>.</li>
        </ol>
      </div>
      <div class="sidebar-card">
        <h4>ğŸ“… Key Dates 2025/2026</h4>
        <div class="key-date"><span class="date-badge upcoming">Sep 1</span><span>Registration Opens</span></div>
        <div class="key-date"><span class="date-badge warning">Sep 30</span><span>Registration Deadline</span></div>
        <div class="key-date"><span class="date-badge info">Oct 7</span><span>Lectures Begin</span></div>
        <div class="key-date"><span class="date-badge info">Dec 15</span><span>End of Semester</span></div>
      </div>
      <div class="sidebar-card">
        <h4>ğŸ“ Registrar's Office</h4>
        <p>+233 (0) 302 888 042</p>
        <p>registrar@vvu.edu.gh</p>
        <p>Monâ€“Fri: 8AM â€“ 5PM</p>
      </div>
    </aside>

  </div><!-- /.reg-layout -->
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-top">
    <div class="container footer-grid">
      <div class="footer-brand">
        <div class="footer-logo"><div class="logo-icon">VVU</div><span>Valley View University</span></div>
        <p>Transforming lives through excellence in education and service to humanity.</p>
      </div>
      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="registration.html">Course Registration</a></li>
          <li><a href="students.html">Registered Students</a></li>
          <li><a href="events.html">Events</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Contact Us</h4>
        <div class="contact-item"><span>ğŸ“</span><span>PMB CE 11655, Oyibi, Accra, Ghana</span></div>
        <div class="contact-item"><span>ğŸ“</span><span>+233 (0) 302 888 042</span></div>
        <div class="contact-item"><span>âœ‰ï¸</span><span>info@vvu.edu.gh</span></div>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="container"><p>&copy; 2025 Valley View University. All rights reserved. | Group 3â€“4</p></div>
  </div>
</footer>

<script src="main.js"></script>
<script>
/* ======================================================
   TASK 2 JS: Validate fields, ID format VVU/XXXX/XX,
   display selected courses, save to localStorage
====================================================== */

const form = document.getElementById('regForm');
const resultPanel = document.getElementById('resultPanel');

form.addEventListener('submit', function(e) {
  e.preventDefault();
  if (validateForm()) {
    saveAndShow();
  }
});

document.getElementById('newRegBtn').addEventListener('click', function() {
  form.reset();
  clearErrors();
  form.style.display = 'block';
  resultPanel.style.display = 'none';
  window.scrollTo({ top: 300, behavior: 'smooth' });
});

function validateForm() {
  let valid = true;

  // Student Name
  const name = document.getElementById('studentName').value.trim();
  if (name.length < 3) {
    showErr('studentNameErr', 'Please enter a valid full name (min 3 characters).');
    valid = false;
  } else {
    clearErr('studentNameErr');
  }

  // Student ID â€” must match VVU/XXXX/XX (letters/digits after slashes)
  const sid = document.getElementById('studentId').value.trim();
  const sidPattern = /^VVU\/[A-Za-z0-9]{4}\/[A-Za-z0-9]{2}$/;
  if (!sidPattern.test(sid)) {
    showErr('studentIdErr', 'Student ID must follow format VVU/XXXX/XX (e.g. VVU/2025/01).');
    valid = false;
  } else {
    clearErr('studentIdErr');
  }

  // Level
  const level = document.getElementById('level').value;
  if (!level) {
    showErr('levelErr', 'Please select a level.');
    valid = false;
  } else {
    clearErr('levelErr');
  }

  // Department
  const dept = document.getElementById('department').value;
  if (!dept) {
    showErr('departmentErr', 'Please select a department.');
    valid = false;
  } else {
    clearErr('departmentErr');
  }

  // Courses â€” at least one checkbox
  const checked = document.querySelectorAll('input[name="courses"]:checked');
  if (checked.length === 0) {
    showErr('coursesErr', 'Please select at least one course.');
    valid = false;
  } else {
    clearErr('coursesErr');
  }

  return valid;
}

function saveAndShow() {
  const name  = document.getElementById('studentName').value.trim();
  const sid   = document.getElementById('studentId').value.trim();
  const level = document.getElementById('level').value;
  const dept  = document.getElementById('department').value;
  const checked = [...document.querySelectorAll('input[name="courses"]:checked')].map(cb => cb.value);
  const refNo = 'REG-' + Date.now();
  const date  = new Date().toLocaleString();

  // Save to localStorage
  const record = { refNo, name, sid, level, dept, courses: checked, date };
  let all = getRecords();
  all.push(record);
  localStorage.setItem('vvu_students', JSON.stringify(all));

  // Display results (Task 2: display selected courses after submission)
  document.getElementById('res-name').textContent  = name;
  document.getElementById('res-id').textContent    = sid;
  document.getElementById('res-level').textContent = 'Level ' + level;
  document.getElementById('res-dept').textContent  = dept;
  document.getElementById('res-ref').textContent   = refNo;
  document.getElementById('res-date').textContent  = date;

  const courseList = document.getElementById('selectedCoursesList');
  courseList.innerHTML = checked.map(c => `<li>âœ” ${c}</li>`).join('');

  form.style.display = 'none';
  resultPanel.style.display = 'block';
  window.scrollTo({ top: 300, behavior: 'smooth' });
}

function getRecords() {
  try { return JSON.parse(localStorage.getItem('vvu_students') || '[]'); } catch { return []; }
}

function showErr(id, msg) {
  const el = document.getElementById(id);
  if (el) { el.textContent = msg; el.previousElementSibling?.classList.add('invalid'); }
}
function clearErr(id) {
  const el = document.getElementById(id);
  if (el) { el.textContent = ''; }
}
function clearErrors() {
  document.querySelectorAll('.err').forEach(e => e.textContent = '');
  document.querySelectorAll('.invalid').forEach(e => e.classList.remove('invalid'));
}
</script>
</body>
</html>